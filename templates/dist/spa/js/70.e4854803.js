(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[70],{a0ba:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("4dec");const s=new i["a"]("database");s.version(1).stores({test:"id, test",linechart:"id, legend, xAxis, serise",barchart:"id, dataset, xAxis, serise ",piechart:"id, data, value, name"}),s.delete(),s.open();class r{static getInstance(){return new r}get(){return s}}},a0f4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{height:e.height,width:e.width}},[a("pie-chart")],1)},s=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"shadow-24"},[a("q-card-section",{staticClass:"text-h6"}),a("q-card-section",[a("div",{ref:"piechart",style:{height:e.height},attrs:{id:"pieChart"}})]),a("q-resize-observer",{on:{resize:e.onResize}})],1)],1)},n=[],o=a("a0ba"),h={name:"PieChart",data(){return{height:"",model:!1,options:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{top:"bottom",bottom:"5%",left:"center"},series:[{name:"Access source",type:"pie",radius:["40%","70%"],center:["50%","35%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"left"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!0},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct access"},{value:580,name:"Email marketing"},{value:484,name:"Affiliate Advertising"},{value:300,name:"Video ad"}]}]},pie_chart:null}},mounted(){var e=this;console.log(1),e.piechartdata(),e.$q.platform.is.electron?e.height=String(e.$q.screen.height-260)+"px":e.height=e.$q.screen.height-260+"px"},watch:{"$q.dark.isActive":function(){this.init()}},methods:{piechartdata(){var e=this,t=o["a"].getInstance().get().piechart;t.toArray().then((t=>{for(var a=0;a<5;a++)e.options.series[0].data[a].name=t[0].name[a];e.init()}))},init(){const e=document.getElementById("pieChart");echarts.dispose(e);const t=this.model?"dark":"light";this.pie_chart=echarts.init(e,t),this.pie_chart.setOption(this.options)},onResize(){this.pie_chart&&this.pie_chart.resize()}}},c=h,l=a("42e1"),d=a("f09f"),p=a("a370"),u=a("3980"),g=a("eebe"),m=a.n(g),f=Object(l["a"])(c,r,n,!1,null,"d78eeb7a",null),v=f.exports;m()(f,"components",{QCard:d["a"],QCardSection:p["a"],QResizeObserver:u["a"]});var b=a("18d6"),w=a("3004"),_={name:"piechart",components:{PieChart:v},data(){return{height:"",width:"",pathname:"asn/detail/?asn_status=5&ordering=-id&max-page:10000"}},mounted(){var e=this;e.getdata(),e.$q.platform.is.electron?e.height=String(e.$q.screen.height)+"px":e.height=e.$q.screen.height+"px"},methods:{getdata(){var e=this,t=o["a"].getInstance().get().piechart;b["a"].has("auth")&&Object(w["e"])(e.pathname,{}).then((a=>{if(e.table_list=a.results,console.log(e.table_list),a.count>0){var i=[],s=[],r=[];a.results.forEach(((e,t)=>{var a=e.goods_code;i.push(a)})),i.forEach(((e,t)=>{0===s.length?s.push(e):(s.forEach(((t,a)=>{t===e&&(r=1)})),0===r?(s.push(e),r=0):r=0)})),t.bulkDelete([1]),t.add({id:1,name:s})}})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))}}},q=_,x=Object(l["a"])(q,i,s,!1,null,"2564aa8a",null);t["default"]=x.exports}}]);